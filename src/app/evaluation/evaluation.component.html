<div class="container">

  <div id="label1">
    <label>Welche Maßnahmen wurden umgesetzt? </label>
  </div>

  <div>
    <div class="info"> Sie haben evaluiert {{number}} Kriterien. </div>
    <button class="btn" (click)="preview()"> Vorschau </button>
    <button class="btn" (click)="save2Json()"> herunterladen (.json)</button>
    <!--<a class="btn btn-clear" title="Download JSON" [href]="downloadJsonHref" download="download.json"></a>-->
  </div>
  <div *ngFor="let cm of sms; index as i">
    <div class ="input-group">
      <div class="checkedModel"> <input  disabled type="text" id="{{cm.kriterium_id}}" value="{{cm.kriterium_id}}. {{cm.kriterium}}"></div>
      <div class="balls"> {{get_izIDs(cm, 'i')}} -> {{get_izIDs(cm, 'z')}}</div>
      <div class="priority"> <input  type="text" disabled value=" Priorität: {{cm.priority}}"></div>


      <div class="input-group mb-3">
        <div class="input-group-prepend">
          <span class="input-group-text">Maßnahme: </span>
        </div>
        <textarea class="form-control" aria-label="Maßnahme: "  value="{{cm.Massnahmen}}"  matTextareaAutosize matAutosizeMinRows="3" matAutosizeMaxRows="15" disabled></textarea>
      </div>

      <div class="input-group mb-3">
        <div class="input-group-prepend">
          <span class="input-group-text" style="color:black"> Notiz: </span>
        </div>
        <textarea class="form-control-2" aria-label="Notiz:" [(ngModel)]="cm.Evaluation_note"  matTextareaAutosize matAutosizeMinRows="3" matAutosizeMaxRows="15" ></textarea>
      </div>


      <form class="KTV-form">
        <table class="example-full-width" cellspacing="0">
          <tr>
            <td><mat-form-field class="example-full-width" >
              <input matInput type="text" placeholder="Kosten: (EUR)" value="{{ cm.Kosten| currency:'EUR':true}}" disabled>
            </mat-form-field></td>
            <td>
              <mat-form-field class="example-full-width">
              <input matInput [matDatepicker]="picker2"  placeholder="Termin:" [value]="cm.Termin" disabled name="myDate">
                <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                <mat-datepicker #picker2 disabled></mat-datepicker>
            </mat-form-field>
            </td>
            <!--<td>-->
              <!--<mat-form-field>-->
                <!--<input matInput [matDatepicker]="picker3" placeholder="Termin2" [value]="cm.Termin">-->
                <!--<mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>-->
                <!--<mat-datepicker #picker3 disabled></mat-datepicker>-->
              <!--</mat-form-field>-->
            <!--</td>-->
            <td><mat-form-field class="example-full-width">
              <input matInput placeholder="Verantwortlich:" maxlength="30" value="{{cm.Verantwortlich}}" disabled>
            </mat-form-field></td>
          </tr></table>
      </form>
    </div><!--input Group-->

    <div class="input-select" *ngIf="sms[i]">
    <!--<div class="input-select">-->
      <mat-checkbox type="checkbox" checked="false" [checked]="sms[i].isEvaluated" (change)="onChange($event, i, cm)" ></mat-checkbox>
    </div>
  </div>


</div><!--container-->
